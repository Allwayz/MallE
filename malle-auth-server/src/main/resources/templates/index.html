<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="JD_sass/JD1.css" />
		<script src="JD_js/jquery-3.1.1.min.js" type="text/javascript" charset="utf-8"></script>
		<title>MallE</title>

		<meta name="google-signin-scope" content="profile email">
		<meta name="google-signin-client_id"
			  content='983209668471-v3ilpk7o5ricp36ne3oovcd9gm9s03o9.apps.googleusercontent.com'>
		<script src="https://apis.google.com/js/platform.js" async defer></script>

	</head>
	<body>
	<div style="margin-left: 650px">
		<!--顶部logo-->
		<header>
			<a href="http://malle.com"><img src="JD_img/logo_mall.jpg" /></a>
			<img src="JD_img/logo_mall.jpg">
			<p>Welcome</p>
		</header>
		<div class="top-2">
		</div>
		<!--大图-->
		<div class="top-3">
			<div class="img_1">
				<img src="JD_img/5731485aN1134b4f0.png" />
			</div>
			<div id="sign">
				<div class="si_top">
					<p>
						<span>Welcome to Login.</span>
					</p>
				</div>
				<div class="si_cen">
					<h2 class="act btn1">扫码登录</h2>
					<span>|</span>
					<h2 class="btn1">账户登录</h2>
				</div>
				<div class="si_bom tab">
					<img src="JD_img/show.png" class="bom_1" />
					<a href="#"><img src="JD_img/phone-orange.png" class="bom_2" /></a>
					<h6>打开<span class="red">手机谷粒商城</span> 扫描二维码</h6>
					<p>
						<img src="JD_img/4de5019d2404d347897dee637895d02b_15.png" />
						<span><a href="#">免输入</a></span>
						<img src="JD_img/4de5019d2404d347897dee637895d02b_17.png" />
						<span><a href="#">更快</a></span>
						<img src="JD_img/4de5019d2404d347897dee637895d02b_19.png" />
						<span><a href="#">更安全</a></span>
					</p>
				</div>
				<div class="si_bom1 tab" style="display: none;">
					<div class="error">
						<div></div>
						请输入账户名和密码
					</div>
					<ul>
						<li class="top_1">
							<img src="JD_img/user_03.png" class="err_img1" />
							<input type="text" placeholder=" 邮箱/用户名/已验证手机" class="user" />
						</li>
						<li>
							<img src="JD_img/user_06.png" class="err_img2" />
							<input type="password" placeholder=" 密码" class="password" />
						</li>
						<li class="bri">
							<a href="">忘记密码</a>
						</li>
						<li class="ent"><button class="btn2"><a class="a">登 &nbsp; &nbsp;录</a></button></li>
					</ul>
				</div>
				<div class="si_out">
					<ul>
						<li>
							<div data-onsuccess="onSignIn">
							<a href="">
								<svg aria-hidden="true" class="native svg-icon iconGoogle" width="18" height="18" viewBox="0 0 18 18"><path d="M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 002.38-5.88c0-.57-.05-.66-.15-1.18z" fill="#4285F4" style="--darkreader-inline-fill: #449df4;" data-darkreader-inline-fill=""></path><path d="M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2a4.8 4.8 0 01-7.18-2.54H1.83v2.07A8 8 0 008.98 17z" fill="#34A853" style="--darkreader-inline-fill: #83d99a;" data-darkreader-inline-fill=""></path><path d="M4.5 10.52a4.8 4.8 0 010-3.04V5.41H1.83a8 8 0 000 7.18l2.67-2.07z" fill="#FBBC05" style="--darkreader-inline-fill: #fcca38;" data-darkreader-inline-fill=""></path><path d="M8.98 4.18c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 001.83 5.4L4.5 7.49a4.77 4.77 0 014.48-3.3z" fill="#EA4335" style="--darkreader-inline-fill: #ed5b4f;" data-darkreader-inline-fill=""></path></svg>
								<span>Log in with Google</span>
							</a>
							</div>
						</li>
					</ul>
					<h5 class="rig">
						<img src="JD_img/4de5019d2404d347897dee637895d02b_25.png" />
						<span><a href="http://auth.malle.com/reg.html">立即注册</a></span>
					</h5>
				</div>
			</div>
		</div>


		<!--底部-->
		<footer>
			<ul>
				<li><a href="#">About Me</a></li>
				<li class="little">|</li>
				<li><a href="#">YuChen Liu</a></li>
				<li class="little">|</li>
				<li><a href="#">Staffordshire</a></li>
				<li class="little">|</li>
				<li><a href="#">University</a></li>
				<li class="little">|</li>
				<li><a href="#">Github</a></li>
				<li class="little">|</li>
				<li><a href="#">Docker</a></li>
				<li class="little">|</li>
				<li><a href="#">Ubuntu</a></li>
				<li class="little">|</li>
				<li><a href="#">Java</a></li>
				<li class="little">|</li>
				<li><a href="#">VUE.js</a></li>
				<li class="little">|</li>
				<li><a href="#">Nginx</a></li>
				<li class="little">|</li>
				<li><a href="#">Database</a></li>
			</ul>
			<span>Copyright &copy; 2020 - ∞ MallE.com</span>
		</footer>
	</div>
	</body>
	<script type="text/javascript">
		var alDiv = document.getElementsByClassName('tab');
		var alBtn = document.getElementsByTagName('h2');
		alDiv[0].style.display = 'block';
		var act = alBtn[0]
		for (var i = 0; i < alBtn.length; i++) {
			alBtn[i].indent = i;
			alBtn[i].onclick = function() {
				act.className = '';
				alDiv[act.indent].style.display = 'none';
				this.className = 'act'
				alDiv[this.indent].style.display = 'block'
				act = this
			}
		}

		var btn2 = document.getElementsByClassName('btn2')[0];
		var user = document.getElementsByClassName('user')[0];
		var pass = document.getElementsByClassName('password')[0];
		var err = document.getElementsByClassName('error')[0];
		var err_img1 = document.getElementsByClassName('err_img1')[0];
		var err_img2 = document.getElementsByClassName('err_img2')[0];

		btn2.onclick = function() {
			if (user.value == '' || pass.value == '') {
				err.style.display = 'block';
				user.style.border = '1px solid red';
				pass.style.border = '1px solid red';
				err_img1.src = 'JD_img/img11.png';
				err_img2.src = 'JD_img/img22.png';
			} else {
				var a = document.getElementsByClassName("a")[0].href = "http://www.baidu.com";
			}
			user.onfocus = function() {
				err_img1.src = 'JD_img/grow1.png';
				user.style.border = '1px solid #999';
			}
			pass.onfocus = function() {
				err_img2.src = 'JD_img/grow2.png';
				pass.style.border = '1px solid #999';
			}
			user.onblur = function() {
				err_img1.src = 'JD_img/img11.png';
				user.style.border = '1px solid red';
			}
			pass.onblur = function() {
				err_img2.src = 'JD_img/img22.png';
				pass.style.border = '1px solid red';
			}
		}

		function onSignIn(googleUser) {
			//跳转到http://gntina.iok.la/sendRedirect(获取用户信息)
			location.href = "http://gntina.iok.la/sendRedirect";
			//获取用户基本信息，但是此id不能给后台用，不安全，改用id_token
			/*从这往下的代码都不需要，因为是在后台验证，后台获取用户信息
                        var profile = googleUser.getBasicProfile();
			console.log('google自己封装好的获取用户信息');
			console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
			console.log('Name: ' + profile.getName());
			console.log('Image URL: ' + profile.getImageUrl());
			console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.

			//将id_token发送给后台进行验证
			var id_token = googleUser.getAuthResponse().id_token;
			var xhr = new XMLHttpRequest();
			xhr.open('POST', 'http://gntina.iok.la/idToken');
			xhr.setRequestHeader('Content-Type',
					'application/x-www-form-urlencoded');
			xhr.onload = function() {
				console.log('Signed in as: ' + xhr.responseText);
			};
			xhr.send('idtoken=' + id_token);
                       */
		}

	</script>
</html>
